!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("Quill")):"function"==typeof define&&define.amd?define(["Quill"],t):"object"==typeof exports?exports.QuillBlotFormatter=t(require("Quill")):e.QuillBlotFormatter=t(e.Quill)}(self,(e=>(()=>{"use strict";var t={379:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(796)),o=i(n(392));function i(e){return e&&e.__esModule?e:{default:e}}function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,c(r.key),r)}}function u(e,t,n){return(t=c(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){var t=function(e,t){if("object"!=l(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==l(t)?t:t+""}i(n(270)),i(n(135));var s=function(e,t){return t};t.default=function(){return e=function e(t){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,"quill",void 0),u(this,"options",void 0),u(this,"currentSpec",void 0),u(this,"specs",void 0),u(this,"overlay",void 0),u(this,"actions",void 0),u(this,"type",void 0),u(this,"selectedIndexAlignment",void 0),u(this,"timer",null),u(this,"longClickInProgress",!1),u(this,"onOverlayClick",(function(){clearTimeout(n.timer),n.longClickInProgress?n.longClickInProgress=!1:n.hide()})),u(this,"onOverlayMouseDown",(function(){n.timer=setTimeout((function(){n.longClickInProgress=!0,n.onOverlayLongClick(event)}),600)})),u(this,"onOverlayMouseLeave",(function(){clearTimeout(n.timer),n.longClickInProgress&&(n.longClickInProgress=!1)})),u(this,"onOverlayLongClick",(function(){n.destroyActions(),n.createImageLongClickActions()})),u(this,"onAlignmentSelected",(function(){n.hide()})),u(this,"onClick",(function(){n.hide()})),this.quill=t,this.options=(0,r.default)(o.default,i,{arrayMerge:s}),this.currentSpec=null,this.actions=[],this.overlay=document.createElement("div"),this.overlay.classList.add(this.options.overlay.className),this.overlay.onkeydown=function(e){return e.preventDefault()},this.options.overlay.style&&Object.assign(this.overlay.style,this.options.overlay.style),document.execCommand("enableObjectResizing",!1,"false"),this.quill.root.parentNode.style.position=this.quill.root.parentNode.style.position||"relative",this.quill.root.addEventListener("click",this.onClick),this.specs=this.options.specs.map((function(e){return new e(n)})),this.specs.forEach((function(e){return e.init()}))},(t=[{key:"onImageClick",value:function(e){this.type="IMAGE",this.overlay.style.setProperty("z-index","3"),this.overlay.addEventListener("click",this.onOverlayClick),this.overlay.addEventListener("pointerdown",this.onOverlayMouseDown),this.overlay.addEventListener("pointerleave",this.onOverlayMouseLeave),this.currentSpec=e,this.currentSpec.setSelection(),this.setUserSelect("none"),this.quill.root.parentNode.appendChild(this.overlay),this.repositionOverlay(),this.createImageClickActions(e)}},{key:"onImageLongClick",value:function(e){this.type="IMAGE",this.overlay.style.setProperty("z-index","3"),this.overlay.addEventListener("click",this.onOverlayClick),this.currentSpec=e,this.currentSpec.setSelection(),this.setUserSelect("none"),this.quill.root.parentNode.appendChild(this.overlay),this.repositionOverlay(),this.createImageLongClickActions(e)}},{key:"onStickerClick",value:function(e){this.type="STICKER",this.overlay.style.setProperty("z-index","22"),this.currentSpec=e,this.currentSpec.setSelection(),this.setUserSelect("none"),this.quill.root.parentNode.appendChild(this.overlay),this.repositionOverlay(),this.createStickerActions(e)}},{key:"hide",value:function(){this.currentSpec&&("STICKER"===this.type&&this.currentSpec.img.style.setProperty("z-index","20"),this.overlay.removeEventListener("click",this.onOverlayClick),this.overlay.removeEventListener("pointerdown",this.onOverlayMouseDown),this.overlay.removeEventListener("pointerleave",this.onOverlayMouseLeave),this.currentSpec.onHide(),this.currentSpec=null,this.quill.root.parentNode.removeChild(this.overlay),this.overlay.style.setProperty("display","none"),this.setUserSelect(""),this.destroyActions())}},{key:"update",value:function(){this.repositionOverlay(),this.actions.forEach((function(e){return e.onUpdate()}))}},{key:"createImageClickActions",value:function(e){var t=this,n=this.currentSpec.getTargetElement();n&&("absolute"===n.style.position?this.actions=e.getDragableImageClickActions().map((function(e){var n=new e(t);return n.onCreate(),n})):this.actions=e.getImageClickActions().map((function(e){var n=new e(t);return n.onCreate(),n})))}},{key:"createImageLongClickActions",value:function(){var e=this,t=this.currentSpec.getTargetElement();t&&("absolute"===t.style.position?this.selectedIndexAlignment=3:"block"===t.style.display?this.selectedIndexAlignment=2:"inline"===t.style.display?this.selectedIndexAlignment=1:this.selectedIndexAlignment=0,3===this.selectedIndexAlignment?this.actions=this.currentSpec.getDragableImageLongClickActions().map((function(t){var n=new t(e);return n.onCreate(),n})):this.actions=this.currentSpec.getImageLongClickActions().map((function(t){var n=new t(e);return n.onCreate(),n})))}},{key:"createStickerActions",value:function(e){var t=this;this.actions=e.getStickerActions().map((function(e){var n=new e(t);return n.onCreate(),n}))}},{key:"destroyActions",value:function(){this.actions.forEach((function(e){return e.onDestroy()})),this.actions=[]}},{key:"repositionOverlay",value:function(){if(this.currentSpec){var e=this.currentSpec.getOverlayElement();if(e){var t=this.quill.root.parentNode,n=e.getBoundingClientRect(),r=t.getBoundingClientRect();Object.assign(this.overlay.style,{display:"block",left:"".concat(n.left-r.left-1+t.scrollLeft,"px"),top:"".concat(n.top-r.top+t.scrollTop,"px"),width:"".concat(n.width,"px"),height:"".concat(n.height,"px")})}}}},{key:"setUserSelect",value:function(e){var t=this;["userSelect","mozUserSelect","webkitUserSelect","msUserSelect"].forEach((function(n){t.quill.root.style.setProperty(n,e),document.documentElement&&document.documentElement.style.setProperty(n,e)}))}}])&&a(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}()},392:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i(n(135));var r=i(n(647)),o=i(n(357));function i(e){return e&&e.__esModule?e:{default:e}}var l={specs:[r.default,o.default],overlay:{className:"blot-formatter__overlay",style:{position:"absolute",boxSizing:"border-box",border:"1px dashed #535353"}},align:{attribute:"data-align",aligner:{applyStyle:!0},icons:{left:'\n        <svg viewbox="0 0 18 18">\n          <line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"></line>\n          <line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"></line>\n          <line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"></line>\n        </svg>\n      ',center:'\n        <svg viewbox="0 0 18 18">\n           <line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"></line>\n          <line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"></line>\n          <line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"></line>\n        </svg>\n      ',right:'\n        <svg viewbox="0 0 18 18">\n          <line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"></line>\n          <line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"></line>\n          <line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"></line>\n        </svg>\n      '},toolbar:{allowDeselect:!0,mainClassName:"blot-formatter__toolbar",mainStyle:{position:"absolute",top:"16px",right:"0",left:"0",marginLeft:"auto",marginRight:"auto",height:"0",width:"130px",font:"12px/1.0 Arial, Helvetica, sans-serif",textAlign:"left",color:"#333",boxSizing:"border-box",cursor:"default",zIndex:"1",backgroundColor:"black"},buttonClassName:"blot-formatter__toolbar-button",addButtonSelectStyle:!0,buttonStyle:{padding:"12px",backgroundColor:"#EDEDED",color:"#272A2E",borderBottom:"1px solid white",verticalAlign:"middle"},svgStyle:{display:"inline-block",width:"24px",height:"24px",background:"white",border:"1px solid #999",verticalAlign:"middle"}}},resize:{handleClassName:"blot-formatter__resize-handle",handleStyle:{position:"absolute",height:"24px",width:"24px",borderRadius:"50%",backgroundColor:"transparent",boxSizing:"border-box",touchAction:"none"}}};t.default=l},270:(e,t,n)=>{var r;function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l(r.key),r)}}function l(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==o(t)?t:t+""}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,(r=n(379))&&r.__esModule,t.default=function(){return function(e,t,n){return t&&i(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t,n){(t=l(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"formatter",void 0),this.formatter=t}),[{key:"onCreate",value:function(){}},{key:"onDestroy",value:function(){}},{key:"onUpdate",value:function(){}}])}()},185:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(1)),o=i(n(270));function i(e){return e&&e.__esModule?e:{default:e}}function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,p(r.key),r)}}function u(e,t,n){return t=s(t),function(e,t){if(t&&("object"==l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,c()?Reflect.construct(t,n||[],s(e).constructor):t.apply(e,n))}function c(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(c=function(){return!!e})()}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}function y(e,t,n){return(t=p(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){var t=function(e,t){if("object"!=l(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==l(t)?t:t+""}t.default=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),y(n=u(this,t,[e]),"topLeftHandle",void 0),y(n,"onKeyUp",(function(e){if(n.formatter.currentSpec&&(46===e.keyCode||8===e.keyCode)){var t=r.default.find(n.formatter.currentSpec.getTargetElement());t&&t.deleteAt(0),n.formatter.hide()}})),n.topLeftHandle=n.createDeleteButton(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(t,e),n=t,(o=[{key:"onCreate",value:function(){this.formatter.overlay.appendChild(this.topLeftHandle),this.repositionHandles(this.formatter.options.resize.handleStyle),document.addEventListener("keyup",this.onKeyUp,!0),this.formatter.quill.root.addEventListener("input",this.onKeyUp,!0)}},{key:"onDestroy",value:function(){this.setCursor(""),this.formatter.overlay.removeChild(this.topLeftHandle),document.removeEventListener("keyup",this.onKeyUp),this.formatter.quill.root.removeEventListener("input",this.onKeyUp)}},{key:"createDeleteButton",value:function(){var e=this,t=document.createElement("div");return t.classList.add(this.formatter.options.resize.handleClassName),t.setAttribute("data-position","top-left"),t.innerHTML='\n      <div style="border-radius:50%;background-color:white;">\n        <?xml version="1.0" encoding="UTF-8"?>\n        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 24 24" version="1.1">\n        <g id="surface1">\n        <path style=" stroke:none;fill-rule:nonzero;fill:rgb(52.941179%,52.941179%,52.941179%);fill-opacity:1;" d="M 0 12 C 0 5.390625 5.34375 0 12 0 C 18.609375 0 24 5.390625 24 12 C 24 18.65625 18.609375 24 12 24 C 5.34375 24 0 18.65625 0 12 Z M 8.203125 9.796875 L 10.40625 12 L 8.203125 14.203125 C 7.734375 14.671875 7.734375 15.375 8.203125 15.796875 C 8.625 16.265625 9.328125 16.265625 9.75 15.796875 L 11.953125 13.59375 L 14.203125 15.796875 C 14.625 16.265625 15.328125 16.265625 15.75 15.796875 C 16.21875 15.375 16.21875 14.671875 15.75 14.203125 L 13.546875 12 L 15.75 9.796875 C 16.21875 9.375 16.21875 8.671875 15.75 8.203125 C 15.328125 7.78125 14.625 7.78125 14.203125 8.203125 L 11.953125 10.453125 L 9.75 8.203125 C 9.328125 7.78125 8.625 7.78125 8.203125 8.203125 C 7.734375 8.671875 7.734375 9.375 8.203125 9.796875 Z M 8.203125 9.796875 "/>\n        </g>\n        </svg>\n        </div>\n      ',this.formatter.options.resize.handleStyle&&Object.assign(t.style,this.formatter.options.resize.handleStyle),t.addEventListener("click",(function(){var t=r.default.find(e.formatter.currentSpec.getTargetElement());t&&t.deleteAt(0),e.formatter.hide()})),t}},{key:"repositionHandles",value:function(e){var t="0px",n="0px";e&&(e.width&&(t="".concat(-parseFloat(e.width)/2,"px")),e.height&&(n="".concat(-parseFloat(e.height)/2,"px"))),Object.assign(this.topLeftHandle.style,{left:t,top:n})}},{key:"setCursor",value:function(e){if(document.body&&(document.body.style.cursor=e),this.formatter.currentSpec){var t=this.formatter.currentSpec.getOverlayElement();t&&(t.style.cursor=e)}}}])&&a(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o}(o.default)},876:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(270));function o(e){return e&&e.__esModule?e:{default:e}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,y(r.key),r)}}function a(e,t,n){return t=c(t),function(e,t){if(t&&("object"==i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,u()?Reflect.construct(t,n||[],c(e).constructor):t.apply(e,n))}function u(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(u=function(){return!!e})()}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}function f(e,t,n){return(t=y(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==i(t)?t:t+""}o(n(379)),t.default=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),f(n=a(this,t,[e]),"dragOverlay",void 0),f(n,"dragStartX",void 0),f(n,"dragStartY",void 0),f(n,"targetX",void 0),f(n,"targetY",void 0),f(n,"differenceTop",void 0),f(n,"differenceLeft",void 0),f(n,"onMouseDown",(function(e){if(e.target instanceof HTMLElement&&n.formatter.currentSpec){var t=n.formatter.currentSpec.getTargetElement();if(t){var r=t.getBoundingClientRect();n.dragStartX=e.clientX,n.dragStartY=e.clientY,n.targetX=r.left,n.targetY=r.top,n.differenceTop=r.top-t.offsetTop,n.differenceLeft=r.left-t.offsetLeft,document.addEventListener("pointermove",n.onDrag),document.addEventListener("pointerup",n.onMouseUp)}}})),f(n,"onDrag",(function(e){if(n.formatter.currentSpec){var t=n.formatter.currentSpec.getTargetElement();if(t){var r=e.clientX-n.dragStartX,o=e.clientY-n.dragStartY;t.style.left="".concat(n.targetX+r-n.differenceLeft,"px"),t.style.top="".concat(n.targetY+o-n.differenceTop,"px"),n.formatter.update()}}})),f(n,"onMouseUp",(function(){n.setCursor(""),document.removeEventListener("pointermove",n.onDrag),document.removeEventListener("pointerup",n.onMouseUp)})),n.dragOverlay=n.createDragOverlay("nwse-resize"),n.dragStartX=0,n.dragStartY=0,n.targetX=0,n.targetY=0,n.differenceTop=0,n.differenceLeft=0,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(t,e),n=t,(r=[{key:"onCreate",value:function(){this.formatter.overlay.appendChild(this.dragOverlay)}},{key:"onDestroy",value:function(){this.setCursor(""),this.formatter.overlay.removeChild(this.dragOverlay)}},{key:"createDragOverlay",value:function(e){var t=document.createElement("div");return t.style.cursor=e,Object.assign(t.style,{position:"absolute",height:"100%",width:"100%",backgroundColor:"transparent",boxSizing:"border-box",touchAction:"none"}),t.addEventListener("dragstart",(function(){return!1})),t.addEventListener("pointerdown",this.onMouseDown,!1),t}},{key:"setCursor",value:function(e){if(document.body&&(document.body.style.cursor=e),this.formatter.currentSpec){var t=this.formatter.currentSpec.getOverlayElement();t&&(t.style.cursor=e)}}}])&&l(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(r.default)},686:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(270));function o(e){return e&&e.__esModule?e:{default:e}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,y(r.key),r)}}function a(e,t,n){return t=c(t),function(e,t){if(t&&("object"==i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,u()?Reflect.construct(t,n||[],c(e).constructor):t.apply(e,n))}function u(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(u=function(){return!!e})()}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}function f(e,t,n){return(t=y(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==i(t)?t:t+""}o(n(379)),t.default=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),f(n=a(this,t,[e]),"bottomRightIcon",void 0),f(n,"bottomRightHandle",void 0),f(n,"dragHandle",void 0),f(n,"dragStartX",void 0),f(n,"dragStartY",void 0),f(n,"preDragWidth",void 0),f(n,"targetRatio",void 0),f(n,"onMouseDown",(function(e){if(e.target instanceof HTMLElement&&(n.dragHandle=e.target,n.setCursor(n.dragHandle.style.cursor),n.formatter.currentSpec)){var t=n.formatter.currentSpec.getTargetElement();if(t){var r=t.getBoundingClientRect();n.dragStartX=e.clientX,n.dragStartY=e.clientY,n.preDragWidth=r.width,n.targetRatio=r.height/r.width,document.addEventListener("pointermove",n.onDrag),document.addEventListener("pointerup",n.onMouseUp)}}})),f(n,"onDrag",(function(e){if(n.formatter.currentSpec){var t=n.formatter.currentSpec.getTargetElement();if(t){var r=e.clientX-n.dragStartX;if(e.clientY,n.dragStartY,n.dragHandle===n.bottomRightHandle){var o;o=Math.round(n.preDragWidth+r);var i=n.targetRatio*o;t.setAttribute("width","".concat(o)),t.setAttribute("height","".concat(i)),n.formatter.update()}}}})),f(n,"onMouseUp",(function(){n.setCursor(""),document.removeEventListener("pointermove",n.onDrag),document.removeEventListener("pointerup",n.onMouseUp)})),n.bottomRightIcon=n.createResizeIcon("bottom-right","nwse-resize"),n.bottomRightHandle=n.createHandle("bottom-right","nwse-resize"),n.dragHandle=null,n.dragStartX=0,n.dragStartY=0,n.preDragWidth=0,n.targetRatio=0,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(t,e),n=t,(r=[{key:"onCreate",value:function(){this.formatter.overlay.appendChild(this.bottomRightIcon),this.formatter.overlay.appendChild(this.bottomRightHandle),this.repositionHandles(this.formatter.options.resize.handleStyle)}},{key:"onDestroy",value:function(){this.setCursor(""),this.formatter.overlay.removeChild(this.bottomRightIcon),this.formatter.overlay.removeChild(this.bottomRightHandle)}},{key:"createHandle",value:function(e,t){var n=document.createElement("div");return n.classList.add(this.formatter.options.resize.handleClassName),n.setAttribute("data-position",e),n.style.cursor=t,this.formatter.options.resize.handleStyle&&Object.assign(n.style,this.formatter.options.resize.handleStyle),n.addEventListener("dragstart",(function(){return!1})),n.addEventListener("pointerdown",this.onMouseDown,!1),n}},{key:"createResizeIcon",value:function(e,t){var n=document.createElement("div");return n.classList.add(this.formatter.options.resize.handleClassName),n.setAttribute("data-position",e),n.style.cursor=t,n.innerHTML='\n      <div style="border-radius:50%;background-color:white;">\n      <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 24 24" version="1.1">\n      <defs>\n      <clipPath id="clip1">\n      <path d="M 12 0 C 18.628906 0 24 5.371094 24 12 C 24 18.628906 18.628906 24 12 24 C 5.371094 24 0 18.628906 0 12 C 0 5.371094 5.371094 0 12 0 Z M 12 0 "/>\n      </clipPath>\n      <clipPath id="clip2">\n      <path d="M 5 4 L 20 4 L 20 19 L 5 19 Z M 5 4 "/>\n      </clipPath>\n      <clipPath id="clip3">\n      <path d="M 12 0 C 18.628906 0 24 5.371094 24 12 C 24 18.628906 18.628906 24 12 24 C 5.371094 24 0 18.628906 0 12 C 0 5.371094 5.371094 0 12 0 Z M 12 0 "/>\n      </clipPath>\n      </defs>\n      <g id="surface1">\n      <g clip-path="url(#clip1)" clip-rule="nonzero">\n      <path style=" stroke:none;fill-rule:nonzero;fill:rgb(100%,100%,100%);fill-opacity:0.8;" d="M 12 0 C 18.628906 0 24 5.371094 24 12 C 24 18.628906 18.628906 24 12 24 C 5.371094 24 0 18.628906 0 12 C 0 5.371094 5.371094 0 12 0 Z M 12 0 "/>\n      </g>\n      <g clip-path="url(#clip2)" clip-rule="nonzero">\n      <g clip-path="url(#clip3)" clip-rule="nonzero">\n      <path style=" stroke:none;fill-rule:nonzero;fill:rgb(4.313725%,4.313725%,4.313725%);fill-opacity:1;" d="M 5.941406 5.726562 C 5.917969 5.253906 6.339844 4.832031 6.835938 4.882812 L 12.207031 5.082031 C 12.429688 5.105469 12.605469 5.179688 12.753906 5.328125 C 12.828125 5.402344 12.902344 5.480469 12.929688 5.601562 C 13.078125 5.902344 13.003906 6.273438 12.753906 6.523438 L 10.742188 8.488281 L 15.511719 13.257812 L 17.527344 11.296875 C 17.777344 11.046875 18.125 10.949219 18.421875 11.097656 C 18.546875 11.121094 18.621094 11.195312 18.695312 11.269531 C 18.84375 11.421875 18.945312 11.617188 18.96875 11.84375 L 19.167969 17.210938 C 19.191406 17.683594 18.769531 18.105469 18.296875 18.082031 L 12.929688 17.882812 C 12.703125 17.859375 12.480469 17.785156 12.332031 17.636719 C 12.257812 17.558594 12.207031 17.460938 12.183594 17.386719 C 12.058594 17.0625 12.132812 16.691406 12.355469 16.464844 L 14.34375 14.476562 L 9.570312 9.703125 L 7.582031 11.695312 C 7.359375 11.917969 7.011719 12.015625 6.6875 11.890625 C 6.589844 11.84375 6.488281 11.792969 6.390625 11.695312 C 6.242188 11.542969 6.167969 11.320312 6.140625 11.097656 Z M 5.941406 5.726562 "/>\n      </g>\n      </g>\n      </g>\n      </svg>\n      </div>\n  ',this.formatter.options.resize.handleStyle&&Object.assign(n.style,this.formatter.options.resize.handleStyle),n}},{key:"repositionHandles",value:function(e){var t="0px",n="0px";e&&(e.width&&(t="".concat(-parseFloat(e.width)/2,"px")),e.height&&(n="".concat(-parseFloat(e.height)/2,"px"))),Object.assign(this.bottomRightIcon.style,{right:t,bottom:n}),Object.assign(this.bottomRightHandle.style,{right:t,bottom:n})}},{key:"setCursor",value:function(e){if(document.body&&(document.body.style.cursor=e),this.formatter.currentSpec){var t=this.formatter.currentSpec.getOverlayElement();t&&(t.style.cursor=e)}}}])&&l(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(r.default)},927:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n(270)),o=(l(n(379)),l(n(55))),i=(n(534),n(227),l(n(274)));function l(e){return e&&e.__esModule?e:{default:e}}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,d(r.key),r)}}function c(e,t,n){return t=f(t),function(e,t){if(t&&("object"==a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,s()?Reflect.construct(t,n||[],f(e).constructor):t.apply(e,n))}function s(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(s=function(){return!!e})()}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}function p(e,t,n){return(t=d(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==a(t)?t:t+""}t.default=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),p(n=c(this,t,[e]),"toolbar",void 0),p(n,"aligner",void 0),n.aligner=new o.default(e.options.align),n.toolbar=new i.default,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(t,e),n=t,(r=[{key:"onCreate",value:function(){var e=this.toolbar.create(this.formatter,this.aligner);this.formatter.overlay.appendChild(e)}},{key:"onDestroy",value:function(){var e=this.toolbar.getElement();e&&(this.formatter.overlay.removeChild(e),this.toolbar.destroy())}}])&&u(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(r.default)},534:()=>{},55:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l(r.key),r)}}function i(e,t,n){return(t=l(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==r(t)?t:t+""}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(534);var a="Inline with text",u="Wrap text",c="Break text",s="In front of text";t.default=function(){return e=function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i(this,"alignments",void 0),i(this,"alignAttribute",void 0),i(this,"applyStyle",void 0),this.applyStyle=t.aligner.applyStyle,this.alignAttribute=t.attribute,this.alignments=i(i(i(i({},a,{name:a,apply:function(e){e.style.position="relative",e.style.setProperty("z-index","0"),e.style.setProperty("left",""),e.style.setProperty("top",""),n.setStyle(e,"inline-block",null,"0px 6px 0px 6px")}}),u,{name:u,apply:function(e){e.style.position="relative",e.style.setProperty("z-index","0"),e.style.setProperty("left",""),e.style.setProperty("top",""),e.style.setProperty("float","left"),e.style.setProperty("margin","auto 16px auto auto"),e.style.setProperty("display","inline")}}),c,{name:c,apply:function(e){e.style.position="relative",e.style.setProperty("z-index","0"),e.style.setProperty("left",""),e.style.setProperty("top",""),n.setStyle(e,"block",null,"auto")}}),s,{name:s,apply:function(e){n.setStyle(e,"inline-block",null,"0px 6px 0px 6px"),e.style.position="absolute",e.style.setProperty("float",null),e.style.setProperty("z-index","1")}})},(t=[{key:"getAlignments",value:function(){var e=this;return Object.keys(this.alignments).map((function(t){return e.alignments[t]}))}},{key:"clear",value:function(e){e.removeAttribute(this.alignAttribute),this.setStyle(e,null,null,null)}},{key:"isAligned",value:function(e,t){return e.getAttribute(this.alignAttribute)===t.name}},{key:"setAlignment",value:function(e,t){e.setAttribute(this.alignAttribute,t)}},{key:"setStyle",value:function(e,t,n,r){this.applyStyle&&(e.style.setProperty("display",t),e.style.setProperty("float",n),e.style.setProperty("margin",r))}}])&&o(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}()},274:(e,t,n)=>{var r;function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,a(r.key),r)}}function l(e,t,n){return(t=a(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==o(t)?t:t+""}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(227),n(534),(r=n(379))&&r.__esModule,t.default=function(){return function(e,t,n){return t&&i(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,"toolbar",void 0),l(this,"buttons",void 0),this.toolbar=null,this.buttons=[]}),[{key:"create",value:function(e,t){var n=document.createElement("div");return n.classList.add(e.options.align.toolbar.mainClassName),this.addToolbarStyle(e,n),this.addButtons(e,n,t),this.toolbar=n,this.toolbar}},{key:"destroy",value:function(){this.toolbar=null,this.buttons=[]}},{key:"getElement",value:function(){return this.toolbar}},{key:"addToolbarStyle",value:function(e,t){e.options.align.toolbar.mainStyle&&Object.assign(t.style,e.options.align.toolbar.mainStyle)}},{key:"addButtonStyle",value:function(e,t,n){n.options.align.toolbar.buttonStyle&&(Object.assign(e.style,n.options.align.toolbar.buttonStyle),0===t?(e.style.borderTopLeftRadius="12px",e.style.borderTopRightRadius="12px"):3===t&&(e.style.borderBottomLeftRadius="12px",e.style.borderBottomRightRadius="12px"))}},{key:"addButtons",value:function(e,t,n){var r=this;n.getAlignments().forEach((function(o,i){var l=document.createElement("div");l.classList.add(e.options.align.toolbar.buttonClassName),l.innerHTML=o.name,l.addEventListener("click",(function(t){e.selectedIndexAlignment=i,t.stopPropagation(),r.onButtonClick(l,e,o,n,i),e.onAlignmentSelected()})),r.addButtonStyle(l,i,e),t.appendChild(l),e.selectedIndexAlignment===i&&r.selectButton(e,l),r.buttons.push(l)}))}},{key:"preselectButton",value:function(e,t,n,r){if(n.currentSpec){var o=n.currentSpec.getTargetElement();o&&r.isAligned(o,t)&&this.selectButton(n,e)}}},{key:"onButtonClick",value:function(e,t,n,r,o){if(t.currentSpec){var i=t.currentSpec.getTargetElement();i&&this.clickButton(e,i,t,n,r,o)}}},{key:"clickButton",value:function(e,t,n,r,o,i){var l=this;this.buttons.forEach((function(e){l.deselectButton(n,e)})),o.isAligned(t,r)?n.options.align.toolbar.allowDeselect?o.clear(t):this.selectButton(n,e):(this.selectButton(n,e),r.apply(t)),n.update()}},{key:"selectButton",value:function(e,t){t.classList.add("is-selected"),e.options.align.toolbar.addButtonSelectStyle&&t.style.setProperty("filter","invert(20%)")}},{key:"deselectButton",value:function(e,t){t.classList.remove("is-selected"),e.options.align.toolbar.addButtonSelectStyle&&t.style.removeProperty("filter")}}])}()},227:(e,t,n)=>{var r;n(534),(r=n(379))&&r.__esModule},135:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(n(379)),a(n(270));var r=a(n(927)),o=a(n(686)),i=a(n(185)),l=a(n(876));function a(e){return e&&e.__esModule?e:{default:e}}function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,s(r.key),r)}}function s(e){var t=function(e,t){if("object"!=u(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==u(t)?t:t+""}t.default=function(){return e=function e(t){var n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n=this,o=void 0,(r=s(r="formatter"))in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,this.formatter=t},(t=[{key:"init",value:function(){}},{key:"getImageClickActions",value:function(){return[o.default,i.default]}},{key:"getDragableImageClickActions",value:function(){return[l.default,o.default,i.default]}},{key:"getImageLongClickActions",value:function(){return[r.default]}},{key:"getDragableImageLongClickActions",value:function(){return[l.default,r.default]}},{key:"getStickerActions",value:function(){return[l.default,o.default,i.default]}},{key:"getTargetElement",value:function(){return null}},{key:"getOverlayElement",value:function(){return this.getTargetElement()}},{key:"setSelection",value:function(){this.formatter.quill.setSelection(null)}},{key:"onHide",value:function(){}}])&&c(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}()},357:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(462));function i(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n){return t=u(t),function(e,t){if(t&&("object"==r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,a()?Reflect.construct(t,n||[],u(e).constructor):t.apply(e,n))}function a(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(a=function(){return!!e})()}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}i(n(379)),t.default=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,t,[e,"iframe.ql-video"])}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(t,e),n=t,Object.defineProperty(n,"prototype",{writable:!1}),n;var n}(o.default)},647:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(135));function o(e){return e&&e.__esModule?e:{default:e}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,y(r.key),r)}}function a(e,t,n){return t=c(t),function(e,t){if(t&&("object"==i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,u()?Reflect.construct(t,n||[],c(e).constructor):t.apply(e,n))}function u(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(u=function(){return!!e})()}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}function f(e,t,n){return(t=y(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==i(t)?t:t+""}o(n(379)),t.default=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),f(n=a(this,t,[e]),"img",void 0),f(n,"timer",null),f(n,"longClickInProgress",!1),f(n,"onLongClick",(function(e){var t=e.target;t instanceof HTMLElement&&"IMG"===t.tagName&&(n.img=t,"IMAGE"===t.dataset.customTag&&n.formatter.onImageLongClick(n))})),f(n,"onClick",(function(e){if(clearTimeout(n.timer),n.longClickInProgress)n.longClickInProgress=!1;else{var t=e.target;t instanceof HTMLElement&&"IMG"===t.tagName&&(n.img=t,"STICKER"===t.dataset.customTag?(n.img.style.setProperty("z-index","21"),n.formatter.onStickerClick(n)):n.formatter.onImageClick(n))}})),n.img=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(t,e),n=t,(r=[{key:"init",value:function(){var e=this;this.formatter.quill.root.addEventListener("click",this.onClick),this.formatter.quill.root.addEventListener("pointerdown",(function(t){e.timer=setTimeout((function(){e.longClickInProgress=!0,e.onLongClick(t)}),600)})),this.formatter.quill.root.addEventListener("mouseleave",(function(t){clearTimeout(e.timer),e.longClickInProgress&&(e.longClickInProgress=!1)}))}},{key:"getTargetElement",value:function(){return this.img}},{key:"onHide",value:function(){this.img=null}}])&&l(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(r.default)},462:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(135));function o(e){return e&&e.__esModule?e:{default:e}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,y(r.key),r)}}function a(e,t,n){return t=c(t),function(e,t){if(t&&("object"==i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,u()?Reflect.construct(t,n||[],c(e).constructor):t.apply(e,n))}function u(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(u=function(){return!!e})()}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}function f(e,t,n){return(t=y(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==i(t)?t:t+""}o(n(379));var p="data-blot-formatter-unclickable-bound";t.default=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),f(r=a(this,t,[e]),"selector",void 0),f(r,"unclickable",void 0),f(r,"nextUnclickable",void 0),f(r,"proxyImage",void 0),f(r,"onTextChange",(function(){Array.from(document.querySelectorAll("".concat(r.selector,":not([").concat(p,"])"))).forEach((function(e){e.setAttribute(p,"true"),e.addEventListener("pointerenter",r.onMouseEnter)}))})),f(r,"onMouseEnter",(function(e){var t=e.target;t instanceof HTMLElement&&(r.nextUnclickable=t,r.repositionProxyImage(r.nextUnclickable))})),f(r,"onProxyImageClick",(function(){r.unclickable=r.nextUnclickable,r.nextUnclickable=null,r.formatter.onImageClick(r),r.hideProxyImage()})),r.selector=n,r.unclickable=null,r.nextUnclickable=null,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(t,e),n=t,(r=[{key:"init",value:function(){document.body&&document.body.appendChild(this.createProxyImage()),this.hideProxyImage(),this.proxyImage.addEventListener("click",this.onProxyImageClick),this.formatter.quill.on("text-change",this.onTextChange)}},{key:"getTargetElement",value:function(){return this.unclickable}},{key:"getOverlayElement",value:function(){return this.unclickable}},{key:"onHide",value:function(){this.hideProxyImage(),this.nextUnclickable=null,this.unclickable=null}},{key:"createProxyImage",value:function(){var e=document.createElement("canvas"),t=e.getContext("2d");return t.globalAlpha=0,t.fillRect(0,0,1,1),this.proxyImage=document.createElement("img"),this.proxyImage.src=e.toDataURL("image/png"),this.proxyImage.classList.add("blot-formatter__proxy-image"),Object.assign(this.proxyImage.style,{position:"absolute",margin:"0"}),this.proxyImage}},{key:"hideProxyImage",value:function(){Object.assign(this.proxyImage.style,{display:"none"})}},{key:"repositionProxyImage",value:function(e){var t=e.getBoundingClientRect();Object.assign(this.proxyImage.style,{display:"block",left:"".concat(t.left+window.pageXOffset,"px"),top:"".concat(t.top+window.pageYOffset,"px"),width:"".concat(t.width,"px"),height:"".concat(t.height,"px")})}}])&&l(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(r.default)},796:(e,t,n)=>{n.r(t),n.d(t,{default:()=>u});var r=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===o}(e)}(e)},o="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function i(e,t){return!1!==t.clone&&t.isMergeableObject(e)?a((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function l(e,t,n){return e.concat(t).map((function(e){return i(e,n)}))}function a(e,t,n){(n=n||{}).arrayMerge=n.arrayMerge||l,n.isMergeableObject=n.isMergeableObject||r;var o=Array.isArray(t);return o===Array.isArray(e)?o?n.arrayMerge(e,t,n):function(e,t,n){var r={};return n.isMergeableObject(e)&&Object.keys(e).forEach((function(t){r[t]=i(e[t],n)})),Object.keys(t).forEach((function(o){n.isMergeableObject(t[o])&&e[o]?r[o]=a(e[o],t[o],n):r[o]=i(t[o],n)})),r}(e,t,n):i(t,n)}a.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return a(e,n,t)}),{})};const u=a},1:t=>{t.exports=e}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var i=n[e]={exports:{}};return t[e](i,i.exports,r),i.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};return(()=>{var e=o;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Action",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"AlignAction",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"BlotSpec",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(e,"DefaultAligner",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"DefaultOptions",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"DefaultToolbar",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"DeleteAction",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"DragAction",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(e,"IframeVideoSpec",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(e,"ImageSpec",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(e,"ResizeAction",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"UnclickableBlotSpec",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.default}});var t=v(r(392)),n=v(r(379)),i=v(r(270)),l=v(r(927)),a=v(r(55)),u=v(r(274)),c=v(r(185)),s=v(r(686)),f=v(r(876)),y=v(r(135)),p=v(r(647)),d=v(r(462)),b=v(r(357));function v(e){return e&&e.__esModule?e:{default:e}}})(),o})()));