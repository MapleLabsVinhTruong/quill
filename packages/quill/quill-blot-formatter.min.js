!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("Quill")):"function"==typeof define&&define.amd?define(["Quill"],e):"object"==typeof exports?exports.QuillBlotFormatter=e(require("Quill")):t.QuillBlotFormatter=e(t.Quill)}(self,(t=>(()=>{"use strict";var e={379:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(r(796)),o=i(r(392));function i(t){return t&&t.__esModule?t:{default:t}}function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function l(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,c(n.key),n)}}function u(t,e,r){return(e=c(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function c(t){var e=function(t,e){if("object"!=a(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==a(e)?e:e+""}i(r(270)),i(r(135));var s=function(t,e){return e};e.default=function(){return t=function t(e){var r=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),u(this,"quill",void 0),u(this,"options",void 0),u(this,"currentSpec",void 0),u(this,"specs",void 0),u(this,"overlay",void 0),u(this,"actions",void 0),u(this,"isStep2",void 0),u(this,"type",void 0),u(this,"selectedIndexAlignment",void 0),u(this,"onOverlayClick",(function(){!0===r.isStep2?r.hide():(r.destroyActions(),r.createImageStep2Actions())})),u(this,"onAlignmentSelected",(function(){r.isStep2=!1,r.destroyActions(),r.createImageStep1Actions(r.currentSpec)})),u(this,"onClick",(function(){r.hide()})),this.quill=e,this.options=(0,n.default)(o.default,i,{arrayMerge:s}),this.currentSpec=null,this.actions=[],this.overlay=document.createElement("div"),this.overlay.classList.add(this.options.overlay.className),this.overlay.onkeydown=function(t){return t.preventDefault()},this.options.overlay.style&&Object.assign(this.overlay.style,this.options.overlay.style),document.execCommand("enableObjectResizing",!1,"false"),this.quill.root.parentNode.style.position=this.quill.root.parentNode.style.position||"relative",this.quill.root.addEventListener("click",this.onClick),this.specs=this.options.specs.map((function(t){return new t(r)})),this.specs.forEach((function(t){return t.init()}))},(e=[{key:"showImageFormatter",value:function(t){this.type="IMAGE",this.overlay.style.setProperty("z-index","3"),this.overlay.addEventListener("click",this.onOverlayClick),this.currentSpec=t,this.currentSpec.setSelection(),this.setUserSelect("none"),this.quill.root.parentNode.appendChild(this.overlay),this.repositionOverlay(),this.createImageStep1Actions(t)}},{key:"showStickerFormatter",value:function(t){this.type="STICKER",this.overlay.style.setProperty("z-index","22"),this.currentSpec=t,this.currentSpec.setSelection(),this.setUserSelect("none"),this.quill.root.parentNode.appendChild(this.overlay),this.repositionOverlay(),this.createStickerActions(t)}},{key:"hide",value:function(){this.currentSpec&&("STICKER"===this.type&&this.currentSpec.img.style.setProperty("z-index","20"),this.isStep2=!1,this.overlay.removeEventListener("click",this.onOverlayClick),this.currentSpec.onHide(),this.currentSpec=null,this.quill.root.parentNode.removeChild(this.overlay),this.overlay.style.setProperty("display","none"),this.setUserSelect(""),this.destroyActions())}},{key:"update",value:function(){this.repositionOverlay(),this.actions.forEach((function(t){return t.onUpdate()}))}},{key:"createImageStep1Actions",value:function(t){var e=this,r=this.currentSpec.getTargetElement();r&&("absolute"===r.style.position?this.actions=t.getDragableImageStep1Actions().map((function(t){var r=new t(e);return r.onCreate(),r})):this.actions=t.getImageStep1Actions().map((function(t){var r=new t(e);return r.onCreate(),r})))}},{key:"createImageStep2Actions",value:function(){var t=this,e=this.currentSpec.getTargetElement();e&&("absolute"===e.style.position?this.selectedIndexAlignment=3:"block"===e.style.display?this.selectedIndexAlignment=2:"inline"===e.style.display?this.selectedIndexAlignment=1:this.selectedIndexAlignment=0,this.isStep2=!0,3===this.selectedIndexAlignment?this.actions=this.currentSpec.getDragableImageStep2Actions().map((function(e){var r=new e(t);return r.onCreate(),r})):this.actions=this.currentSpec.getImageStep2Actions().map((function(e){var r=new e(t);return r.onCreate(),r})))}},{key:"createStickerActions",value:function(t){var e=this;this.actions=t.getStickerActions().map((function(t){var r=new t(e);return r.onCreate(),r}))}},{key:"destroyActions",value:function(){this.actions.forEach((function(t){return t.onDestroy()})),this.actions=[]}},{key:"repositionOverlay",value:function(){if(this.currentSpec){var t=this.currentSpec.getOverlayElement();if(t){var e=this.quill.root.parentNode,r=t.getBoundingClientRect(),n=e.getBoundingClientRect();Object.assign(this.overlay.style,{display:"block",left:"".concat(r.left-n.left-1+e.scrollLeft,"px"),top:"".concat(r.top-n.top+e.scrollTop,"px"),width:"".concat(r.width,"px"),height:"".concat(r.height,"px")})}}}},{key:"setUserSelect",value:function(t){var e=this;["userSelect","mozUserSelect","webkitUserSelect","msUserSelect"].forEach((function(r){e.quill.root.style.setProperty(r,t),document.documentElement&&document.documentElement.style.setProperty(r,t)}))}}])&&l(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}()},392:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(r(135));var n=i(r(647)),o=i(r(357));function i(t){return t&&t.__esModule?t:{default:t}}var a={specs:[n.default,o.default],overlay:{className:"blot-formatter__overlay",style:{position:"absolute",boxSizing:"border-box",border:"1px dashed #535353"}},align:{attribute:"data-align",aligner:{applyStyle:!0},icons:{left:'\n        <svg viewbox="0 0 18 18">\n          <line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"></line>\n          <line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"></line>\n          <line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"></line>\n        </svg>\n      ',center:'\n        <svg viewbox="0 0 18 18">\n           <line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"></line>\n          <line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"></line>\n          <line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"></line>\n        </svg>\n      ',right:'\n        <svg viewbox="0 0 18 18">\n          <line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"></line>\n          <line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"></line>\n          <line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"></line>\n        </svg>\n      '},toolbar:{allowDeselect:!0,mainClassName:"blot-formatter__toolbar",mainStyle:{position:"absolute",top:"16px",right:"0",left:"0",marginLeft:"auto",marginRight:"auto",height:"0",width:"130px",font:"12px/1.0 Arial, Helvetica, sans-serif",textAlign:"left",color:"#333",boxSizing:"border-box",cursor:"default",zIndex:"1",backgroundColor:"black"},buttonClassName:"blot-formatter__toolbar-button",addButtonSelectStyle:!0,buttonStyle:{padding:"12px",backgroundColor:"#2e2e2e",color:"#B8B8B8",borderBottom:"1px solid #000",verticalAlign:"middle"},svgStyle:{display:"inline-block",width:"24px",height:"24px",background:"white",border:"1px solid #999",verticalAlign:"middle"}}},resize:{handleClassName:"blot-formatter__resize-handle",handleStyle:{position:"absolute",height:"24px",width:"24px",borderRadius:"50%",backgroundColor:"transparent",boxSizing:"border-box",touchAction:"none"}}};e.default=a},270:(t,e,r)=>{var n;function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,a(n.key),n)}}function a(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==o(e)?e:e+""}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,(n=r(379))&&n.__esModule,e.default=function(){return function(t,e,r){return e&&i(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e,r){(e=a(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(this,"formatter",void 0),this.formatter=e}),[{key:"onCreate",value:function(){}},{key:"onDestroy",value:function(){}},{key:"onUpdate",value:function(){}}])}()},185:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(r(1)),o=i(r(270));function i(t){return t&&t.__esModule?t:{default:t}}function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function l(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,p(n.key),n)}}function u(t,e,r){return e=s(e),function(t,e){if(e&&("object"==a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,c()?Reflect.construct(e,r||[],s(t).constructor):e.apply(t,r))}function c(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(c=function(){return!!t})()}function s(t){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},s(t)}function f(t,e){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},f(t,e)}function y(t,e,r){return(e=p(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function p(t){var e=function(t,e){if("object"!=a(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==a(e)?e:e+""}e.default=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),y(r=u(this,e,[t]),"topLeftHandle",void 0),y(r,"onKeyUp",(function(t){if(r.formatter.currentSpec&&(46===t.keyCode||8===t.keyCode)){var e=n.default.find(r.formatter.currentSpec.getTargetElement());e&&e.deleteAt(0),r.formatter.hide()}})),r.topLeftHandle=r.createDeleteButton(),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f(t,e)}(e,t),r=e,(o=[{key:"onCreate",value:function(){this.formatter.overlay.appendChild(this.topLeftHandle),this.repositionHandles(this.formatter.options.resize.handleStyle),document.addEventListener("keyup",this.onKeyUp,!0),this.formatter.quill.root.addEventListener("input",this.onKeyUp,!0)}},{key:"onDestroy",value:function(){this.setCursor(""),this.formatter.overlay.removeChild(this.topLeftHandle),document.removeEventListener("keyup",this.onKeyUp),this.formatter.quill.root.removeEventListener("input",this.onKeyUp)}},{key:"createDeleteButton",value:function(){var t=this,e=document.createElement("div");return e.classList.add(this.formatter.options.resize.handleClassName),e.setAttribute("data-position","top-left"),e.innerHTML='\n      <div style="border-radius:50%;background-color:white;">\n        <?xml version="1.0" encoding="UTF-8"?>\n        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 24 24" version="1.1">\n        <g id="surface1">\n        <path style=" stroke:none;fill-rule:nonzero;fill:rgb(52.941179%,52.941179%,52.941179%);fill-opacity:1;" d="M 0 12 C 0 5.390625 5.34375 0 12 0 C 18.609375 0 24 5.390625 24 12 C 24 18.65625 18.609375 24 12 24 C 5.34375 24 0 18.65625 0 12 Z M 8.203125 9.796875 L 10.40625 12 L 8.203125 14.203125 C 7.734375 14.671875 7.734375 15.375 8.203125 15.796875 C 8.625 16.265625 9.328125 16.265625 9.75 15.796875 L 11.953125 13.59375 L 14.203125 15.796875 C 14.625 16.265625 15.328125 16.265625 15.75 15.796875 C 16.21875 15.375 16.21875 14.671875 15.75 14.203125 L 13.546875 12 L 15.75 9.796875 C 16.21875 9.375 16.21875 8.671875 15.75 8.203125 C 15.328125 7.78125 14.625 7.78125 14.203125 8.203125 L 11.953125 10.453125 L 9.75 8.203125 C 9.328125 7.78125 8.625 7.78125 8.203125 8.203125 C 7.734375 8.671875 7.734375 9.375 8.203125 9.796875 Z M 8.203125 9.796875 "/>\n        </g>\n        </svg>\n        </div>\n      ',this.formatter.options.resize.handleStyle&&Object.assign(e.style,this.formatter.options.resize.handleStyle),e.addEventListener("click",(function(){var e=n.default.find(t.formatter.currentSpec.getTargetElement());e&&e.deleteAt(0),t.formatter.hide()})),e}},{key:"repositionHandles",value:function(t){var e="0px",r="0px";t&&(t.width&&(e="".concat(-parseFloat(t.width)/2,"px")),t.height&&(r="".concat(-parseFloat(t.height)/2,"px"))),Object.assign(this.topLeftHandle.style,{left:e,top:r})}},{key:"setCursor",value:function(t){if(document.body&&(document.body.style.cursor=t),this.formatter.currentSpec){var e=this.formatter.currentSpec.getOverlayElement();e&&(e.style.cursor=t)}}}])&&l(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o}(o.default)},876:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(r(270));function o(t){return t&&t.__esModule?t:{default:t}}function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,y(n.key),n)}}function l(t,e,r){return e=c(e),function(t,e){if(e&&("object"==i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,u()?Reflect.construct(e,r||[],c(t).constructor):e.apply(t,r))}function u(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(u=function(){return!!t})()}function c(t){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},c(t)}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}function f(t,e,r){return(e=y(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function y(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==i(e)?e:e+""}o(r(379)),e.default=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),f(r=l(this,e,[t]),"dragOverlay",void 0),f(r,"dragStartX",void 0),f(r,"dragStartY",void 0),f(r,"targetX",void 0),f(r,"targetY",void 0),f(r,"onMouseDown",(function(t){if(t.target instanceof HTMLElement&&r.formatter.currentSpec){var e=r.formatter.currentSpec.getTargetElement();if(e){var n=e.getBoundingClientRect();r.dragStartX=t.clientX,r.dragStartY=t.clientY,r.targetX=n.left+window.scrollX,r.targetY=n.top+window.scrollY,document.addEventListener("pointermove",r.onDrag),document.addEventListener("pointerup",r.onMouseUp)}}})),f(r,"onDrag",(function(t){if(r.formatter.currentSpec){var e=r.formatter.currentSpec.getTargetElement();if(e){var n=t.clientX-r.dragStartX,o=t.clientY-r.dragStartY;e.style.left="".concat(r.targetX+n),e.style.top="".concat(r.targetY+o),r.formatter.update()}}})),f(r,"onMouseUp",(function(){r.setCursor(""),document.removeEventListener("pointermove",r.onDrag),document.removeEventListener("pointerup",r.onMouseUp)})),r.dragOverlay=r.createDragOverlay("nwse-resize"),r.dragStartX=0,r.dragStartY=0,r.targetX=0,r.targetY=0,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(e,t),r=e,(n=[{key:"onCreate",value:function(){this.formatter.overlay.appendChild(this.dragOverlay)}},{key:"onDestroy",value:function(){this.setCursor(""),this.formatter.overlay.removeChild(this.dragOverlay)}},{key:"createDragOverlay",value:function(t){var e=document.createElement("div");return e.style.cursor=t,Object.assign(e.style,{position:"absolute",height:"100%",width:"100%",backgroundColor:"transparent",boxSizing:"border-box",touchAction:"none"}),e.addEventListener("dragstart",(function(){return!1})),e.addEventListener("pointerdown",this.onMouseDown,!1),e}},{key:"setCursor",value:function(t){if(document.body&&(document.body.style.cursor=t),this.formatter.currentSpec){var e=this.formatter.currentSpec.getOverlayElement();e&&(e.style.cursor=t)}}}])&&a(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(n.default)},686:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(r(270));function o(t){return t&&t.__esModule?t:{default:t}}function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,y(n.key),n)}}function l(t,e,r){return e=c(e),function(t,e){if(e&&("object"==i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,u()?Reflect.construct(e,r||[],c(t).constructor):e.apply(t,r))}function u(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(u=function(){return!!t})()}function c(t){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},c(t)}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}function f(t,e,r){return(e=y(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function y(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==i(e)?e:e+""}o(r(379)),e.default=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),f(r=l(this,e,[t]),"bottomRightIcon",void 0),f(r,"bottomRightHandle",void 0),f(r,"dragHandle",void 0),f(r,"dragStartX",void 0),f(r,"dragStartY",void 0),f(r,"preDragWidth",void 0),f(r,"targetRatio",void 0),f(r,"onMouseDown",(function(t){if(t.target instanceof HTMLElement&&(r.dragHandle=t.target,r.setCursor(r.dragHandle.style.cursor),r.formatter.currentSpec)){var e=r.formatter.currentSpec.getTargetElement();if(e){var n=e.getBoundingClientRect();r.dragStartX=t.clientX,r.dragStartY=t.clientY,r.preDragWidth=n.width,r.targetRatio=n.height/n.width,document.addEventListener("pointermove",r.onDrag),document.addEventListener("pointerup",r.onMouseUp)}}})),f(r,"onDrag",(function(t){if(r.formatter.currentSpec){var e=r.formatter.currentSpec.getTargetElement();if(e){var n=t.clientX-r.dragStartX;if(t.clientY,r.dragStartY,r.dragHandle===r.bottomRightHandle){var o;o=Math.round(r.preDragWidth+n);var i=r.targetRatio*o;e.setAttribute("width","".concat(o)),e.setAttribute("height","".concat(i)),r.formatter.update()}}}})),f(r,"onMouseUp",(function(){r.setCursor(""),document.removeEventListener("pointermove",r.onDrag),document.removeEventListener("pointerup",r.onMouseUp)})),r.bottomRightIcon=r.createResizeIcon("bottom-right","nwse-resize"),r.bottomRightHandle=r.createHandle("bottom-right","nwse-resize"),r.dragHandle=null,r.dragStartX=0,r.dragStartY=0,r.preDragWidth=0,r.targetRatio=0,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(e,t),r=e,(n=[{key:"onCreate",value:function(){this.formatter.overlay.appendChild(this.bottomRightIcon),this.formatter.overlay.appendChild(this.bottomRightHandle),this.repositionHandles(this.formatter.options.resize.handleStyle)}},{key:"onDestroy",value:function(){this.setCursor(""),this.formatter.overlay.removeChild(this.bottomRightIcon),this.formatter.overlay.removeChild(this.bottomRightHandle)}},{key:"createHandle",value:function(t,e){var r=document.createElement("div");return r.classList.add(this.formatter.options.resize.handleClassName),r.setAttribute("data-position",t),r.style.cursor=e,this.formatter.options.resize.handleStyle&&Object.assign(r.style,this.formatter.options.resize.handleStyle),r.addEventListener("dragstart",(function(){return!1})),r.addEventListener("pointerdown",this.onMouseDown,!1),r}},{key:"createResizeIcon",value:function(t,e){var r=document.createElement("div");return r.classList.add(this.formatter.options.resize.handleClassName),r.setAttribute("data-position",t),r.style.cursor=e,r.innerHTML='\n      <div style="border-radius:50%;background-color:white;">\n      <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 24 24" version="1.1">\n      <defs>\n      <clipPath id="clip1">\n      <path d="M 12 0 C 18.628906 0 24 5.371094 24 12 C 24 18.628906 18.628906 24 12 24 C 5.371094 24 0 18.628906 0 12 C 0 5.371094 5.371094 0 12 0 Z M 12 0 "/>\n      </clipPath>\n      <clipPath id="clip2">\n      <path d="M 5 4 L 20 4 L 20 19 L 5 19 Z M 5 4 "/>\n      </clipPath>\n      <clipPath id="clip3">\n      <path d="M 12 0 C 18.628906 0 24 5.371094 24 12 C 24 18.628906 18.628906 24 12 24 C 5.371094 24 0 18.628906 0 12 C 0 5.371094 5.371094 0 12 0 Z M 12 0 "/>\n      </clipPath>\n      </defs>\n      <g id="surface1">\n      <g clip-path="url(#clip1)" clip-rule="nonzero">\n      <path style=" stroke:none;fill-rule:nonzero;fill:rgb(100%,100%,100%);fill-opacity:0.8;" d="M 12 0 C 18.628906 0 24 5.371094 24 12 C 24 18.628906 18.628906 24 12 24 C 5.371094 24 0 18.628906 0 12 C 0 5.371094 5.371094 0 12 0 Z M 12 0 "/>\n      </g>\n      <g clip-path="url(#clip2)" clip-rule="nonzero">\n      <g clip-path="url(#clip3)" clip-rule="nonzero">\n      <path style=" stroke:none;fill-rule:nonzero;fill:rgb(4.313725%,4.313725%,4.313725%);fill-opacity:1;" d="M 5.941406 5.726562 C 5.917969 5.253906 6.339844 4.832031 6.835938 4.882812 L 12.207031 5.082031 C 12.429688 5.105469 12.605469 5.179688 12.753906 5.328125 C 12.828125 5.402344 12.902344 5.480469 12.929688 5.601562 C 13.078125 5.902344 13.003906 6.273438 12.753906 6.523438 L 10.742188 8.488281 L 15.511719 13.257812 L 17.527344 11.296875 C 17.777344 11.046875 18.125 10.949219 18.421875 11.097656 C 18.546875 11.121094 18.621094 11.195312 18.695312 11.269531 C 18.84375 11.421875 18.945312 11.617188 18.96875 11.84375 L 19.167969 17.210938 C 19.191406 17.683594 18.769531 18.105469 18.296875 18.082031 L 12.929688 17.882812 C 12.703125 17.859375 12.480469 17.785156 12.332031 17.636719 C 12.257812 17.558594 12.207031 17.460938 12.183594 17.386719 C 12.058594 17.0625 12.132812 16.691406 12.355469 16.464844 L 14.34375 14.476562 L 9.570312 9.703125 L 7.582031 11.695312 C 7.359375 11.917969 7.011719 12.015625 6.6875 11.890625 C 6.589844 11.84375 6.488281 11.792969 6.390625 11.695312 C 6.242188 11.542969 6.167969 11.320312 6.140625 11.097656 Z M 5.941406 5.726562 "/>\n      </g>\n      </g>\n      </g>\n      </svg>\n      </div>\n  ',this.formatter.options.resize.handleStyle&&Object.assign(r.style,this.formatter.options.resize.handleStyle),r}},{key:"repositionHandles",value:function(t){var e="0px",r="0px";t&&(t.width&&(e="".concat(-parseFloat(t.width)/2,"px")),t.height&&(r="".concat(-parseFloat(t.height)/2,"px"))),Object.assign(this.bottomRightIcon.style,{right:e,bottom:r}),Object.assign(this.bottomRightHandle.style,{right:e,bottom:r})}},{key:"setCursor",value:function(t){if(document.body&&(document.body.style.cursor=t),this.formatter.currentSpec){var e=this.formatter.currentSpec.getOverlayElement();e&&(e.style.cursor=t)}}}])&&a(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(n.default)},927:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(r(270)),o=(a(r(379)),a(r(55))),i=(r(534),r(227),a(r(274)));function a(t){return t&&t.__esModule?t:{default:t}}function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,d(n.key),n)}}function c(t,e,r){return e=f(e),function(t,e){if(e&&("object"==l(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,s()?Reflect.construct(e,r||[],f(t).constructor):e.apply(t,r))}function s(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(s=function(){return!!t})()}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}function y(t,e){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},y(t,e)}function p(t,e,r){return(e=d(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function d(t){var e=function(t,e){if("object"!=l(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==l(e)?e:e+""}e.default=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),p(r=c(this,e,[t]),"toolbar",void 0),p(r,"aligner",void 0),r.aligner=new o.default(t.options.align),r.toolbar=new i.default,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y(t,e)}(e,t),r=e,(n=[{key:"onCreate",value:function(){var t=this.toolbar.create(this.formatter,this.aligner);this.formatter.overlay.appendChild(t)}},{key:"onDestroy",value:function(){var t=this.toolbar.getElement();t&&(this.formatter.overlay.removeChild(t),this.toolbar.destroy())}}])&&u(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(n.default)},534:()=>{},55:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,a(n.key),n)}}function i(t,e,r){return(e=a(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function a(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,"string");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==n(e)?e:e+""}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r(534);var l="Inline with text",u="Wrap text",c="Break text",s="In front of text";e.default=function(){return t=function t(e){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),i(this,"alignments",void 0),i(this,"alignAttribute",void 0),i(this,"applyStyle",void 0),this.applyStyle=e.aligner.applyStyle,this.alignAttribute=e.attribute,this.alignments=i(i(i(i({},l,{name:l,apply:function(t){t.style.position="relative",t.style.setProperty("z-index","0"),t.style.setProperty("left",""),t.style.setProperty("top",""),r.setStyle(t,"inline-block",null,"0px 6px 0px 6px")}}),u,{name:u,apply:function(t){t.style.position="relative",t.style.setProperty("z-index","0"),t.style.setProperty("left",""),t.style.setProperty("top",""),t.style.setProperty("float","left"),t.style.setProperty("margin","auto"),t.style.setProperty("display","inline")}}),c,{name:c,apply:function(t){t.style.position="relative",t.style.setProperty("z-index","0"),t.style.setProperty("left",""),t.style.setProperty("top",""),r.setStyle(t,"block",null,"auto")}}),s,{name:s,apply:function(t){r.setStyle(t,"inline-block",null,"0px 6px 0px 6px"),t.style.position="absolute",t.style.setProperty("float",null),t.style.setProperty("z-index","1")}})},(e=[{key:"getAlignments",value:function(){var t=this;return Object.keys(this.alignments).map((function(e){return t.alignments[e]}))}},{key:"clear",value:function(t){t.removeAttribute(this.alignAttribute),this.setStyle(t,null,null,null)}},{key:"isAligned",value:function(t,e){return t.getAttribute(this.alignAttribute)===e.name}},{key:"setAlignment",value:function(t,e){t.setAttribute(this.alignAttribute,e)}},{key:"setStyle",value:function(t,e,r,n){this.applyStyle&&(t.style.setProperty("display",e),t.style.setProperty("float",r),t.style.setProperty("margin",n))}}])&&o(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}()},274:(t,e,r)=>{var n;function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,l(n.key),n)}}function a(t,e,r){return(e=l(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function l(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==o(e)?e:e+""}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r(227),r(534),(n=r(379))&&n.__esModule,e.default=function(){return function(t,e,r){return e&&i(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,"toolbar",void 0),a(this,"buttons",void 0),this.toolbar=null,this.buttons=[]}),[{key:"create",value:function(t,e){var r=document.createElement("div");return r.classList.add(t.options.align.toolbar.mainClassName),this.addToolbarStyle(t,r),this.addButtons(t,r,e),this.toolbar=r,this.toolbar}},{key:"destroy",value:function(){this.toolbar=null,this.buttons=[]}},{key:"getElement",value:function(){return this.toolbar}},{key:"addToolbarStyle",value:function(t,e){t.options.align.toolbar.mainStyle&&Object.assign(e.style,t.options.align.toolbar.mainStyle)}},{key:"addButtonStyle",value:function(t,e,r){r.options.align.toolbar.buttonStyle&&(Object.assign(t.style,r.options.align.toolbar.buttonStyle),0===e?(t.style.borderTopLeftRadius="12px",t.style.borderTopRightRadius="12px"):3===e&&(t.style.borderBottomLeftRadius="12px",t.style.borderBottomRightRadius="12px"))}},{key:"addButtons",value:function(t,e,r){var n=this;r.getAlignments().forEach((function(o,i){var a=document.createElement("div");a.classList.add(t.options.align.toolbar.buttonClassName),a.innerHTML=o.name,a.addEventListener("click",(function(e){t.selectedIndexAlignment=i,e.stopPropagation(),n.onButtonClick(a,t,o,r,i),t.onAlignmentSelected()})),n.addButtonStyle(a,i,t),e.appendChild(a),t.selectedIndexAlignment===i&&n.selectButton(t,a)}))}},{key:"preselectButton",value:function(t,e,r,n){if(r.currentSpec){var o=r.currentSpec.getTargetElement();o&&n.isAligned(o,e)&&this.selectButton(r,t)}}},{key:"onButtonClick",value:function(t,e,r,n,o){if(e.currentSpec){var i=e.currentSpec.getTargetElement();i&&this.clickButton(t,i,e,r,n,o)}}},{key:"clickButton",value:function(t,e,r,n,o,i){var a=this;this.buttons.forEach((function(t){a.deselectButton(r,t)})),o.isAligned(e,n)?r.options.align.toolbar.allowDeselect?o.clear(e):this.selectButton(r,t):(this.selectButton(r,t),n.apply(e)),r.update()}},{key:"selectButton",value:function(t,e){e.classList.add("is-selected"),t.options.align.toolbar.addButtonSelectStyle&&e.style.setProperty("filter","invert(20%)")}},{key:"deselectButton",value:function(t,e){e.classList.remove("is-selected"),t.options.align.toolbar.addButtonSelectStyle&&e.style.removeProperty("filter")}}])}()},227:(t,e,r)=>{var n;r(534),(n=r(379))&&n.__esModule},135:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,l(r(379)),l(r(270));var n=l(r(927)),o=l(r(686)),i=l(r(185)),a=l(r(876));function l(t){return t&&t.__esModule?t:{default:t}}function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function c(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,s(n.key),n)}}function s(t){var e=function(t,e){if("object"!=u(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==u(e)?e:e+""}e.default=function(){return t=function t(e){var r,n,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=void 0,(n=s(n="formatter"))in r?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o,this.formatter=e},(e=[{key:"init",value:function(){}},{key:"getImageStep1Actions",value:function(){return[o.default,i.default]}},{key:"getDragableImageStep1Actions",value:function(){return[a.default,o.default,i.default]}},{key:"getImageStep2Actions",value:function(){return[n.default,i.default]}},{key:"getDragableImageStep2Actions",value:function(){return[a.default,n.default,i.default]}},{key:"getStickerActions",value:function(){return[a.default,o.default,i.default]}},{key:"getTargetElement",value:function(){return null}},{key:"getOverlayElement",value:function(){return this.getTargetElement()}},{key:"setSelection",value:function(){this.formatter.quill.setSelection(null)}},{key:"onHide",value:function(){}}])&&c(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}()},357:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(r(462));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e,r){return e=u(e),function(t,e){if(e&&("object"==n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,l()?Reflect.construct(e,r||[],u(t).constructor):e.apply(t,r))}function l(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(l=function(){return!!t})()}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}function c(t,e){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},c(t,e)}i(r(379)),e.default=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,e,[t,"iframe.ql-video"])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c(t,e)}(e,t),r=e,Object.defineProperty(r,"prototype",{writable:!1}),r;var r}(o.default)},647:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(r(135));function o(t){return t&&t.__esModule?t:{default:t}}function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,y(n.key),n)}}function l(t,e,r){return e=c(e),function(t,e){if(e&&("object"==i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,u()?Reflect.construct(e,r||[],c(t).constructor):e.apply(t,r))}function u(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(u=function(){return!!t})()}function c(t){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},c(t)}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}function f(t,e,r){return(e=y(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function y(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==i(e)?e:e+""}o(r(379)),e.default=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),f(r=l(this,e,[t]),"img",void 0),f(r,"onClick",(function(t){var e=t.target;e instanceof HTMLElement&&"IMG"===e.tagName&&(r.img=e,"STICKER"===e.dataset.customTag?(r.img.style.setProperty("z-index","21"),r.formatter.showStickerFormatter(r)):r.formatter.showImageFormatter(r))})),r.img=null,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(e,t),r=e,(n=[{key:"init",value:function(){this.formatter.quill.root.addEventListener("click",this.onClick)}},{key:"getTargetElement",value:function(){return this.img}},{key:"onHide",value:function(){this.img=null}}])&&a(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(n.default)},462:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(r(135));function o(t){return t&&t.__esModule?t:{default:t}}function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,y(n.key),n)}}function l(t,e,r){return e=c(e),function(t,e){if(e&&("object"==i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,u()?Reflect.construct(e,r||[],c(t).constructor):e.apply(t,r))}function u(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(u=function(){return!!t})()}function c(t){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},c(t)}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}function f(t,e,r){return(e=y(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function y(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==i(e)?e:e+""}o(r(379));var p="data-blot-formatter-unclickable-bound";e.default=function(t){function e(t,r){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),f(n=l(this,e,[t]),"selector",void 0),f(n,"unclickable",void 0),f(n,"nextUnclickable",void 0),f(n,"proxyImage",void 0),f(n,"onTextChange",(function(){Array.from(document.querySelectorAll("".concat(n.selector,":not([").concat(p,"])"))).forEach((function(t){t.setAttribute(p,"true"),t.addEventListener("pointerenter",n.onMouseEnter)}))})),f(n,"onMouseEnter",(function(t){var e=t.target;e instanceof HTMLElement&&(n.nextUnclickable=e,n.repositionProxyImage(n.nextUnclickable))})),f(n,"onProxyImageClick",(function(){n.unclickable=n.nextUnclickable,n.nextUnclickable=null,n.formatter.showImageFormatter(n),n.hideProxyImage()})),n.selector=r,n.unclickable=null,n.nextUnclickable=null,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(e,t),r=e,(n=[{key:"init",value:function(){document.body&&document.body.appendChild(this.createProxyImage()),this.hideProxyImage(),this.proxyImage.addEventListener("click",this.onProxyImageClick),this.formatter.quill.on("text-change",this.onTextChange)}},{key:"getTargetElement",value:function(){return this.unclickable}},{key:"getOverlayElement",value:function(){return this.unclickable}},{key:"onHide",value:function(){this.hideProxyImage(),this.nextUnclickable=null,this.unclickable=null}},{key:"createProxyImage",value:function(){var t=document.createElement("canvas"),e=t.getContext("2d");return e.globalAlpha=0,e.fillRect(0,0,1,1),this.proxyImage=document.createElement("img"),this.proxyImage.src=t.toDataURL("image/png"),this.proxyImage.classList.add("blot-formatter__proxy-image"),Object.assign(this.proxyImage.style,{position:"absolute",margin:"0"}),this.proxyImage}},{key:"hideProxyImage",value:function(){Object.assign(this.proxyImage.style,{display:"none"})}},{key:"repositionProxyImage",value:function(t){var e=t.getBoundingClientRect();Object.assign(this.proxyImage.style,{display:"block",left:"".concat(e.left+window.pageXOffset,"px"),top:"".concat(e.top+window.pageYOffset,"px"),width:"".concat(e.width,"px"),height:"".concat(e.height,"px")})}}])&&a(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(n.default)},796:(t,e,r)=>{r.r(e),r.d(e,{default:()=>u});var n=function(t){return function(t){return!!t&&"object"==typeof t}(t)&&!function(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||function(t){return t.$$typeof===o}(t)}(t)},o="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function i(t,e){return!1!==e.clone&&e.isMergeableObject(t)?l((r=t,Array.isArray(r)?[]:{}),t,e):t;var r}function a(t,e,r){return t.concat(e).map((function(t){return i(t,r)}))}function l(t,e,r){(r=r||{}).arrayMerge=r.arrayMerge||a,r.isMergeableObject=r.isMergeableObject||n;var o=Array.isArray(e);return o===Array.isArray(t)?o?r.arrayMerge(t,e,r):function(t,e,r){var n={};return r.isMergeableObject(t)&&Object.keys(t).forEach((function(e){n[e]=i(t[e],r)})),Object.keys(e).forEach((function(o){r.isMergeableObject(e[o])&&t[o]?n[o]=l(t[o],e[o],r):n[o]=i(e[o],r)})),n}(t,e,r):i(e,r)}l.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce((function(t,r){return l(t,r,e)}),{})};const u=l},1:e=>{e.exports=t}},r={};function n(t){var o=r[t];if(void 0!==o)return o.exports;var i=r[t]={exports:{}};return e[t](i,i.exports,n),i.exports}n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var o={};return(()=>{var t=o;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Action",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"AlignAction",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"BlotSpec",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(t,"DefaultAligner",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"DefaultOptions",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(t,"DefaultToolbar",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"DeleteAction",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"DragAction",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"IframeVideoSpec",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(t,"ImageSpec",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"ResizeAction",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"UnclickableBlotSpec",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.default}});var e=v(n(392)),r=v(n(379)),i=v(n(270)),a=v(n(927)),l=v(n(55)),u=v(n(274)),c=v(n(185)),s=v(n(686)),f=v(n(876)),y=v(n(135)),p=v(n(647)),d=v(n(462)),b=v(n(357));function v(t){return t&&t.__esModule?t:{default:t}}})(),o})()));